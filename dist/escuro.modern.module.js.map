{"version":3,"file":"escuro.modern.module.js","sources":["../src/index.ts"],"sourcesContent":["function setLocalDarkMode(value: boolean) {\n  localStorage.setItem('escuro-dark', value.toString());\n}\n\nfunction getLocalDarkMode(): boolean {\n  return localStorage.getItem('escuro-dark') === 'true';\n}\n\nexport function isBrowserDark(): boolean {\n  return window.matchMedia\n    && window.matchMedia('(prefers-color-scheme: dark)').matches;\n}\n\nexport function isDark(): boolean {\n  return getLocalDarkMode() || isBrowserDark();\n}\n\nexport function setDark(isDark: boolean) {\n  setLocalDarkMode(isDark);\n}\n\nexport function onUpdate(cb: (isDark: boolean) => void) {\n  window.matchMedia('(prefers-color-scheme: dark)')\n    .addEventListener('change',cb.call(null, isBrowserDark()));\n}\n\nexport function onDestroy(cb: () => void) {\n  window.matchMedia('(prefers-color-scheme: dark)')\n    .removeEventListener('change', cb.call(null, isBrowserDark()));\n}\n"],"names":["isBrowserDark","window","matchMedia","matches","isDark","localStorage","getItem","setDark","setItem","toString","onUpdate","cb","addEventListener","call","onDestroy","removeEventListener"],"mappings":"AAQA,SAAgBA,WACPC,OAAOC,YACTD,OAAOC,WAAW,gCAAgCC,QAGzD,SAAgBC,UARiC,SAAxCC,aAAaC,QAAQ,gBASCN,aAGfO,EAAQH,GAhBtBC,aAAaG,QAAQ,cAiBJJ,EAjByBK,qBAoB5BC,EAASC,GACvBV,OAAOC,WAAW,gCACfU,iBAAiB,SAASD,EAAGE,KAAK,KAAMb,eAG7Bc,EAAUH,GACxBV,OAAOC,WAAW,gCACfa,oBAAoB,SAAUJ,EAAGE,KAAK,KAAMb"}