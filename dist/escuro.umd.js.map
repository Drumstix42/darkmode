{"version":3,"file":"escuro.umd.js","sources":["../src/index.ts"],"sourcesContent":["function setLocalDarkMode(value: boolean) {\n  localStorage.setItem('escuro-dark', value.toString());\n}\n\nfunction getLocalDarkMode(): boolean {\n  return localStorage.getItem('escuro-dark') === 'true';\n}\n\nexport function isBrowserDark(): boolean {\n  return window.matchMedia\n    && window.matchMedia('(prefers-color-scheme: dark)').matches;\n}\n\nexport function isDark(): boolean {\n  return getLocalDarkMode() || isBrowserDark();\n}\n\nexport function setDark(isDark: boolean) {\n  setLocalDarkMode(isDark);\n}\n\nexport function onUpdate(cb: (isDark: boolean) => void) {\n  window.matchMedia('(prefers-color-scheme: dark)')\n    .addEventListener('change',cb.call(null, isBrowserDark()));\n}\n\nexport function onDestroy(cb: () => void) {\n  window.matchMedia('(prefers-color-scheme: dark)')\n    .removeEventListener('change', cb.call(null, isBrowserDark()));\n}\n"],"names":["isBrowserDark","window","matchMedia","matches","localStorage","getItem","isDark","setItem","toString","cb","addEventListener","call","removeEventListener"],"mappings":"qLAQgBA,WACPC,OAAOC,YACTD,OAAOC,WAAW,gCAAgCC,oDALR,SAAxCC,aAAaC,QAAQ,gBASCL,wBAGPM,GAhBtBF,aAAaG,QAAQ,cAiBJD,EAjByBE,iCAoBnBC,GACvBR,OAAOC,WAAW,gCACfQ,iBAAiB,SAASD,EAAGE,KAAK,KAAMX,4BAGnBS,GACxBR,OAAOC,WAAW,gCACfU,oBAAoB,SAAUH,EAAGE,KAAK,KAAMX"}